---
import sidedCookie9 from '../assets/images/sided-cookie-9.svg';
---

<div id="loading-screen" class="loading-screen">
  <div class="spinner-image" style={`--mask-image-url: url(${sidedCookie9.src});`}></div>
</div>

<style>
  @reference "tailwindcss";
  .loading-screen {
    @apply bg-cyan-200;
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    z-index: 9999;
    color: black; /* Light text color */
    font-family: 'Poppins', sans-serif;
    opacity: 1;
    transition: opacity 0.5s ease-out;
  }

  .loading-screen.hidden {
    opacity: 0;
    pointer-events: none; /* Prevents interaction with hidden element */
  }

  .spinner-image {
    @apply bg-lime-900;

    width: 180px; /* Adjust size as needed */
    height: 180px; /* Adjust size as needed */
    -webkit-mask-image: var(--mask-image-url);
    mask-image: var(--mask-image-url);
    -webkit-mask-repeat: no-repeat;
    mask-repeat: no-repeat;
    -webkit-mask-size: contain;
    mask-size: contain;
    animation: spin 1s linear infinite;
    margin-bottom: 20px;
  }

  @keyframes spin {
    0% { transform: rotate(0deg); }
    100% { transform: rotate(360deg); }
  }
</style>

<script is:inline>
  document.addEventListener('DOMContentLoaded', () => {
    const loadingScreen = document.getElementById('loading-screen');
    if (loadingScreen) {
      loadingScreen.classList.add('hidden');
      // Optionally remove the element from the DOM after transition
      loadingScreen.addEventListener('transitionend', () => {
       loadingScreen.remove();
      });
    }
  });
</script>
